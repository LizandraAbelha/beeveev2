<div class="container mt-4">
  <h2>Bem-vindo, {{ usuario?.nome }}</h2>

  <div class="card my-3">
    <div class="card-body">

      <!-- Campos modo leitura -->
      <div *ngIf="!editando">
        <p><strong>CPF:</strong> {{ usuario?.cpf }}</p>
        <p><strong>Email:</strong> {{ usuario?.email }}</p>
        <p><strong>Login:</strong> {{ usuario?.login }}</p>
        <p><strong>Média como Caronista:</strong> {{ usuario?.mediaCaronista || 'N/A' }}</p>
        <p><strong>Média como Caroneiro:</strong> {{ usuario?.mediaCaroneiro || 'N/A' }}</p>

        <button class="btn btn-warning me-2" (click)="editar()">Editar</button>
        <button class="btn btn-danger" (click)="deletarConta()">Deletar Conta</button>
      </div>

      <!-- Campos modo edição -->
      <form *ngIf="editando" (ngSubmit)="salvarEdicao()">
        <div class="mb-3">
          <label for="nome" class="form-label">Nome</label>
          <input id="nome" class="form-control" [(ngModel)]="usuario.nome" name="nome" required />
        </div>
        <div class="mb-3">
          <label for="cpf" class="form-label">CPF</label>
          <input id="cpf" class="form-control" [(ngModel)]="usuario.cpf" name="cpf" required />
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input id="email" type="email" class="form-control" [(ngModel)]="usuario.email" name="email" required />
        </div>
        <div class="mb-3">
          <label for="login" class="form-label">Login</label>
          <input id="login" class="form-control" [(ngModel)]="usuario.login" name="login" required />
        </div>

        <!-- Você pode colocar médias como readonly ou deixar fora da edição -->
        <p><strong>Média como Caronista:</strong> {{ usuario.mediaCaronista || 'N/A' }}</p>
        <p><strong>Média como Caroneiro:</strong> {{ usuario.mediaCaroneiro || 'N/A' }}</p>

        <button type="submit" class="btn btn-success me-2">Salvar</button>
        <button type="button" class="btn btn-secondary" (click)="cancelarEdicao()">Cancelar</button>
      </form>

    </div>
  </div>

  <div class="d-grid gap-2">
    <button class="btn btn-outline-primary" (click)="irParaHistorico()">Histórico</button>
    <button class="btn btn-outline-primary" (click)="irParaHorario()">Horário Acadêmico</button>

    <button *ngIf="isMultifuncional" class="btn btn-outline-success" (click)="irParaCarro()">
      Ir para página de carro
    </button>

    <button *ngIf="!isMultifuncional" class="btn btn-outline-secondary" (click)="cadastrarComoCaroneiro()">
      Deseja ser caroneiro? Cadastre seu carro
    </button>
  </div>

  <div *ngIf="mensagemErro" class="alert alert-danger mt-3">
    {{ mensagemErro }}
  </div>
</div>
